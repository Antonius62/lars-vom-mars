<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lars vom Mars</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: url('./mars_background.png') center/cover fixed;
            color: white;
            font-family: Arial, sans-serif;
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        
        /* Haupt-Tabelle nimmt 100% der Höhe ein */
        #main-table {
            width: 100%;
            height: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }
        
        /* Header-Bereich - nimmt 15% der Höhe ein */
        #header-cell {
            height: 15%;
            vertical-align: top;
            text-align: center;
            padding-top: 20px;
        }
        
        /* Content-Bereich - nimmt 65% der Höhe ein */
        #content-cell {
            height: 65%;
            vertical-align: bottom;
            text-align: center;
            padding-bottom: 20px;
        }
        
        /* Buttons-Bereich - nimmt 20% der Höhe ein */
        #buttons-cell {
            height: 20%;
            vertical-align: top;
            text-align: center;
        }
        
        .app-title {
            font-size: 24px;
            color: rgba(255,255,255,0.7);
        }
        
        #lyrics-box {
            width: 90%;
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            padding: 30px;
            font-size: 24px;
            text-align: center;
            line-height: 1.6;
            display: none;
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 10px;
        }
        
        .nav-button {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: black;
            touch-action: manipulation;
        }
        
        .nav-button.audiobook { background: rgba(255,255,0,0.6); }
        .nav-button.video { background: rgba(173,216,230,0.6); }
        .nav-button.music { background: rgba(255,160,160,0.6); }
        .nav-button.action { background: rgba(144,238,144,0.6); }
        
        #info-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 15px;
            color: white;
            text-align: center;
            z-index: 1000;
        }
        
        @media (max-width: 768px) {
            #lyrics-box {
                font-size: 18px;
                padding: 20px;
            }
            .nav-button {
                width: 70px;
                height: 70px;
                font-size: 14px;
            }
            .nav-container {
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Haupt-Tabelle mit festen Anteilen für Header, Content und Buttons -->
    <table id="main-table">
        <tr>
            <td id="header-cell">
                <h1 class="app-title">Willkommen in der Welt von Lars vom Mars</h1>
            </td>
        </tr>
        <tr>
            <td id="content-cell">
                <div id="lyrics-box"></div>
            </td>
        </tr>
        <tr>
            <td id="buttons-cell">
                <div class="nav-container">
                    <button class="nav-button audiobook" onclick="showInfo('Hörbuch-Funktion kommt bald!')">Hörbuch</button>
                    <button class="nav-button video" onclick="showInfo('Video-Funktion kommt bald!')">Video</button>
                    <button class="nav-button music" onclick="toggleMusic()">Musik</button>
                    <button class="nav-button action" onclick="playQuackSound()">Action</button>
                </div>
            </td>
        </tr>
    </table>
    
    <div id="info-modal">
        <p id="info-text"></p>
    </div>
    
    <script>
        let audioPlayer = null;
        let isPlaying = false;
        let actionSound = null;
        window.timeouts = [];
        
        // Verhindere Standardaktionen bei Touch-Events
        document.addEventListener('touchmove', function(event) {
            event.preventDefault();
        }, { passive: false });
        
        function showInfo(message) {
            const modal = document.getElementById('info-modal');
            const text = document.getElementById('info-text');
            text.textContent = message;
            modal.style.display = 'block';
            setTimeout(() => {
                modal.style.display = 'none';
            }, 2000);
        }
        
        function toggleMusic() {
            if (!audioPlayer) {
                audioPlayer = new Audio('lars_vom_mars_song.wav');
            }
            
            if (isPlaying) {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
                isPlaying = false;
                hideLyrics();
            } else {
                audioPlayer.play().catch(error => {
                    console.error('Fehler beim Abspielen:', error);
                    showInfo('Fehler beim Abspielen der Musik');
                });
                isPlaying = true;
                showLyrics();
            }
        }
        
        function displayBlock(lines, startTime) {
            window.timeouts.push(setTimeout(() => {
                const container = document.getElementById('lyrics-box');
                if (!container) return;
                
                container.innerHTML = '';
                
                lines.forEach((line, index) => {
                    window.timeouts.push(setTimeout(() => {
                        if (!container) return;
                        const div = document.createElement('div');
                        div.textContent = line;
                        container.appendChild(div);
                    }, index * 4000));
                });
            }, startTime));
        }
        
        function showLyrics() {
            const container = document.getElementById('lyrics-box');
            if (!container) return;
            
            container.style.display = 'block';
            
            const verse1 = [
                "In stummen Nächten singt Lars, der Frosch allein,",
                "Er schwingt auf seinen Träumen, sehnt sich nach daheim,",
                "In ferner Stille, hallt leise sein Gesang,",
                "Ein Lied von Wüsten, die einst nach Heimat klang."
            ];
            displayBlock(verse1, 10000);

            const chorus1 = [
                "Lars vom Mars, Lars vom Mars,",
                "sein Herz so groß, sein Blick so klar.",
                "Er singt vom roten Staub der Ewigkeit,",
                "träumt von Heimat, doch die bleibt so weit."
            ];
            displayBlock(chorus1, 36000);

            const verse2 = [
                "Sein Lied fliegt durch die Stürme aus feurigem Sand,",
                "verloren in den Dünen, in einem fremden Land.",
                "Die Krater sind wie Narben, gezeichnet vom All,",
                "und Lars fragt den Himmel: Wann endet mein Fall?"
            ];
            displayBlock(verse2, 56000);

            displayBlock(chorus1, 84000);

            const bridge = [
                "Vielleicht hört ihn der Wind, der vom Olymp weht,",
                "vielleicht singt er für Sterne, die niemand je versteht,",
                "Vielleicht trägt ihn der Traum durch die Unendlichkeit,",
                "bis jemand ruft: Lars, es ist soweit!"
            ];
            displayBlock(bridge, 102000);

            displayBlock(chorus1, 132000);
        }
        
        function hideLyrics() {
            const container = document.getElementById('lyrics-box');
            if (!container) return;
            
            container.style.display = 'none';
            container.innerHTML = '';
            window.timeouts.forEach(timeout => clearTimeout(timeout));
            window.timeouts = [];
        }
        
        function playQuackSound() {
            if (!actionSound) {
                actionSound = new Audio('quack_sound.mp3');
            }
            
            if (actionSound.paused) {
                actionSound.play().catch(error => {
                    console.error('Fehler beim Abspielen:', error);
                    showInfo('Fehler beim Abspielen des Sounds');
                });
            } else {
                actionSound.pause();
                actionSound.currentTime = 0;
            }
        }
    </script>
</body>
</html>
